<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introducción a R para el análisis de datos de fitopatología - protección de cultivos</title>
  <meta name="description" content="Introducción a R para el análisis de datos de fitopatología - protección de cultivos">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Introducción a R para el análisis de datos de fitopatología - protección de cultivos" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="juanchiem/R_Intro" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introducción a R para el análisis de datos de fitopatología - protección de cultivos" />
  
  
  

<meta name="author" content="">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="calc.html">
<link rel="next" href="tablas-resumen.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Motivación</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivos"><i class="fa fa-check"></i>Objetivos</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="config.html"><a href="config.html"><i class="fa fa-check"></i><b>1</b> Configuraciones básicas</a><ul>
<li class="chapter" data-level="" data-path="paquetes-de-r.html"><a href="paquetes-de-r.html"><i class="fa fa-check"></i>Paquetes de R</a></li>
<li class="chapter" data-level="" data-path="workflow-componentes.html"><a href="workflow-componentes.html"><i class="fa fa-check"></i>Workflow componentes</a></li>
<li class="chapter" data-level="" data-path="s-o-s-.html"><a href="s-o-s-.html"><i class="fa fa-check"></i>S.O.S.</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="sintaxis-basica.html"><a href="sintaxis-basica.html"><i class="fa fa-check"></i><b>2</b> Sintaxis básica</a><ul>
<li class="chapter" data-level="2.1" data-path="calc.html"><a href="calc.html"><i class="fa fa-check"></i><b>2.1</b> R calculadora</a></li>
<li class="chapter" data-level="2.2" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>2.2</b> Funciones</a></li>
<li class="chapter" data-level="2.3" data-path="tablas-resumen.html"><a href="tablas-resumen.html"><i class="fa fa-check"></i><b>2.3</b> Tablas resumen</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-type.html"><a href="data-type.html"><i class="fa fa-check"></i><b>3</b> Datos: tipos y estructuras</a><ul>
<li class="chapter" data-level="3.1" data-path="tipos-de-datos.html"><a href="tipos-de-datos.html"><i class="fa fa-check"></i><b>3.1</b> Tipos de datos</a><ul>
<li class="chapter" data-level="3.1.1" data-path="tipos-de-datos.html"><a href="tipos-de-datos.html#vectores"><i class="fa fa-check"></i><b>3.1.1</b> Vectores</a></li>
<li class="chapter" data-level="3.1.2" data-path="tipos-de-datos.html"><a href="tipos-de-datos.html#numeros-aleatorios"><i class="fa fa-check"></i><b>3.1.2</b> Números aleatorios</a></li>
<li class="chapter" data-level="3.1.3" data-path="tipos-de-datos.html"><a href="tipos-de-datos.html#valores-especiales"><i class="fa fa-check"></i><b>3.1.3</b> Valores especiales</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="estructura-de-datos.html"><a href="estructura-de-datos.html"><i class="fa fa-check"></i><b>3.2</b> Estructura de datos</a><ul>
<li class="chapter" data-level="3.2.1" data-path="estructura-de-datos.html"><a href="estructura-de-datos.html#data_frames"><i class="fa fa-check"></i><b>3.2.1</b> Data frames</a></li>
<li class="chapter" data-level="3.2.2" data-path="estructura-de-datos.html"><a href="estructura-de-datos.html#listas"><i class="fa fa-check"></i><b>3.2.2</b> Listas</a></li>
<li class="chapter" data-level="3.2.3" data-path="estructura-de-datos.html"><a href="estructura-de-datos.html#matrices"><i class="fa fa-check"></i><b>3.2.3</b> Matrices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="import.html"><a href="import.html"><i class="fa fa-check"></i><b>4</b> Importación de datos</a><ul>
<li class="chapter" data-level="4.1" data-path="vias-de-importacion.html"><a href="vias-de-importacion.html"><i class="fa fa-check"></i><b>4.1</b> Vías de importación</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="manip.html"><a href="manip.html"><i class="fa fa-check"></i><b>5</b> Manipular</a><ul>
<li class="chapter" data-level="5.1" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>5.1</b> tidyr::</a></li>
<li class="chapter" data-level="5.2" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>5.2</b> dplyr::</a><ul>
<li class="chapter" data-level="5.2.1" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>5.2.1</b> select</a></li>
<li class="chapter" data-level="5.2.2" data-path="dplyr.html"><a href="dplyr.html#filter"><i class="fa fa-check"></i><b>5.2.2</b> filter</a></li>
<li class="chapter" data-level="5.2.3" data-path="dplyr.html"><a href="dplyr.html#mutate"><i class="fa fa-check"></i><b>5.2.3</b> mutate</a></li>
<li class="chapter" data-level="5.2.4" data-path="dplyr.html"><a href="dplyr.html#arrange"><i class="fa fa-check"></i><b>5.2.4</b> arrange</a></li>
<li class="chapter" data-level="5.2.5" data-path="dplyr.html"><a href="dplyr.html#summarise"><i class="fa fa-check"></i><b>5.2.5</b> summarise</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="forcats.html"><a href="forcats.html"><i class="fa fa-check"></i><b>5.3</b> forcats::</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="fitopato.html"><a href="fitopato.html"><i class="fa fa-check"></i><b>6</b> Cálculos fitopatométricos</a><ul>
<li class="chapter" data-level="6.1" data-path="caso-1-carbon-del-mani.html"><a href="caso-1-carbon-del-mani.html"><i class="fa fa-check"></i><b>6.1</b> Caso 1: carbón del mani</a></li>
<li class="chapter" data-level="6.2" data-path="caso-2-xylella-en-olivos.html"><a href="caso-2-xylella-en-olivos.html"><i class="fa fa-check"></i><b>6.2</b> Caso 2: xylella en olivos</a><ul>
<li class="chapter" data-level="6.2.1" data-path="caso-2-xylella-en-olivos.html"><a href="caso-2-xylella-en-olivos.html#incidencia-nivel-lote---evolucion-interanual"><i class="fa fa-check"></i><b>6.2.1</b> Incidencia (nivel lote - evolución interanual)</a></li>
<li class="chapter" data-level="6.2.2" data-path="caso-2-xylella-en-olivos.html"><a href="caso-2-xylella-en-olivos.html#prevalencia-nivel-region---evolucion-interanual"><i class="fa fa-check"></i><b>6.2.2</b> Prevalencia (nivel región - evolución interanual)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="explore.html"><a href="explore.html"><i class="fa fa-check"></i><b>7</b> Visualizar</a><ul>
<li class="chapter" data-level="7.1" data-path="ambas-variables-continuas.html"><a href="ambas-variables-continuas.html"><i class="fa fa-check"></i><b>7.1</b> Ambas variables continuas</a></li>
<li class="chapter" data-level="7.2" data-path="comparacion-de-niveles-de-factores.html"><a href="comparacion-de-niveles-de-factores.html"><i class="fa fa-check"></i><b>7.2</b> Comparación de niveles de factores</a><ul>
<li class="chapter" data-level="7.2.1" data-path="comparacion-de-niveles-de-factores.html"><a href="comparacion-de-niveles-de-factores.html#observaciones-media-mediana"><i class="fa fa-check"></i><b>7.2.1</b> Observaciones + media / mediana</a></li>
<li class="chapter" data-level="7.2.2" data-path="comparacion-de-niveles-de-factores.html"><a href="comparacion-de-niveles-de-factores.html#barplot-se"><i class="fa fa-check"></i><b>7.2.2</b> Barplot + SE</a></li>
<li class="chapter" data-level="7.2.3" data-path="comparacion-de-niveles-de-factores.html"><a href="comparacion-de-niveles-de-factores.html#box-plot"><i class="fa fa-check"></i><b>7.2.3</b> Box-plot</a></li>
<li class="chapter" data-level="7.2.4" data-path="comparacion-de-niveles-de-factores.html"><a href="comparacion-de-niveles-de-factores.html#violin-plot"><i class="fa fa-check"></i><b>7.2.4</b> Violin plot</a></li>
<li class="chapter" data-level="7.2.5" data-path="comparacion-de-niveles-de-factores.html"><a href="comparacion-de-niveles-de-factores.html#media-dispersion"><i class="fa fa-check"></i><b>7.2.5</b> Media &amp; dispersión</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="multivariado.html"><a href="multivariado.html"><i class="fa fa-check"></i><b>7.3</b> Multivariado</a></li>
<li class="chapter" data-level="7.4" data-path="mapas.html"><a href="mapas.html"><i class="fa fa-check"></i><b>7.4</b> Mapas</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="fechas.html"><a href="fechas.html"><i class="fa fa-check"></i><b>8</b> Manipular fechas</a><ul>
<li class="chapter" data-level="8.1" data-path="analisis-de-temperaturas.html"><a href="analisis-de-temperaturas.html"><i class="fa fa-check"></i><b>8.1</b> Análisis de temperaturas</a></li>
<li class="chapter" data-level="8.2" data-path="analisis-de-precipitaciones.html"><a href="analisis-de-precipitaciones.html"><i class="fa fa-check"></i><b>8.2</b> Análisis de precipitaciones</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="modelos.html"><a href="modelos.html"><i class="fa fa-check"></i><b>9</b> Modelos</a><ul>
<li class="chapter" data-level="9.1" data-path="modelos-lineales.html"><a href="modelos-lineales.html"><i class="fa fa-check"></i><b>9.1</b> Modelos lineales</a></li>
<li class="chapter" data-level="9.2" data-path="glm.html"><a href="glm.html"><i class="fa fa-check"></i><b>9.2</b> GLM</a><ul>
<li class="chapter" data-level="9.2.1" data-path="glm.html"><a href="glm.html#variable-conteo"><i class="fa fa-check"></i><b>9.2.1</b> Variable <strong>conteo</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="links-de-interes.html"><a href="links-de-interes.html"><i class="fa fa-check"></i><b>10</b> Links de interés</a></li>
<li class="divider"></li>
<li><a href="https://github.com/juanchiem/R_Intro/tree/master/data" target="blank">Datasets</a></li>
<li><a href="https://www.rstudio.com/resources/cheatsheets/" target="blank">Cheatsheets</a></li>
<li><a href="https://bookdown.org/" target="blank">Creado con Bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a R para el análisis de datos de fitopatología - protección de cultivos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="funciones" class="section level2">
<h2><span class="header-section-number">2.2</span> Funciones</h2>
<p>Una función es un conjunto de sentencias organizadas conjuntamente para realizar una tarea específica. Los paquetes son basicamente un set de funciones generadas por los autores de los mismos pero el usuario puede crear sus propias funciones. La sintaxis básica de una función de R es la siguiente</p>
<pre class="sourceCode r"><code class="sourceCode r">nombre_funcion &lt;-<span class="st"> </span><span class="cf">function</span>(arg_<span class="dv">1</span>, arg_<span class="dv">2</span>, ...) {
   cuerpo_de_la_función
  
   output <span class="co"># return()</span>
}</code></pre>
<p>Las diferentes partes de una función son:</p>
<ul>
<li><p>Nombre de la función: este es el nombre real de la función. Se almacena en el entorno R como un objeto con este nombre. Generalmente, elnombre es intuitivo, por ejemplo, <code>mean</code> es la función que calcula la media, <code>round</code> es la funión que redondea un número.</p></li>
<li><p>Argumentos - Un argumento es un marcador de posición. Cuando se invoca una función, se pasa un valor al argumento. Los argumentos son opcionales; es decir, una función no puede contener argumentos. También los argumentos pueden tener valores por defecto.</p></li>
<li><p>Cuerpo de la función: el cuerpo de la función contiene una colección de sentencias que definen lo que hace la función.</p></li>
<li><p>Valor de retorno: el valor de retorno de una función es la última expresión en el cuerpo de la función que se va a evaluar.</p></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">numb &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">6</span>
<span class="kw">round</span>(<span class="kw">mean</span>(numb)) <span class="co"># floor() # ceiling() trunc() </span></code></pre>
<p>Si es necesario, el usuario puede generar sus propias funciones. Un clásico ejemplo de la utilidad de estas funciones “user-defined” es la preparación de soluciones partiendo de un stock o fuente a diluir, usando la equivalencia:</p>
<p><span class="math display">\[c1 * v1 = c2 * v2\]</span></p>
<p>Obviamente tanto <span class="math inline">\(c1;c2\)</span>, como <span class="math inline">\(v1;v2\)</span>, están en las mismas unidades. Para nuestra comodidad <span class="math inline">\(c=\%\)</span> y <span class="math inline">\(v=ml\)</span>.</p>
<blockquote>
<p>Nos indican que preparemos 500 ml de una solución desinfectante de NaOCl al 5%, partiendo de una lavandina concentrada (55 g Cl/L). La pregunta que del millón es: qué volumen de lavandina preciso? Por lo tanto debemos despejar <em>V1</em> de la equivalencia, o sea, sería nuestro output de nuestra función.</p>
</blockquote>
<p>Empecemos los cálculos:</p>
<ol style="list-style-type: decimal">
<li><p>Si el NaOCl tiene un peso molecular de 74.5 g y el Cl pesa 35.5 g, este representa el <em>47.6%</em> de la molécula de NaOCl. Por lo tanto podemos decir que la lavandina comercial posee x NaOCl = Cl/0.476 en 1 L, o bien x NaOCl % = x NaoCl/10</p></li>
<li><p>Si deseamos preparar 500 ml de NaOCl al 5% para la desinfección (2.5% de Cl activo, aprox.) debemos obtener:
<span class="math display">\[v1 = (c2*v2)/c1\]</span></p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">vol_lavandina  &lt;-<span class="st"> </span><span class="cf">function</span>(c1, c2, v2){
  c1 &lt;-<span class="st"> </span>(c1<span class="op">/</span><span class="fl">0.476</span>)<span class="op">/</span><span class="dv">10</span> <span class="co"># pasar g/L a %</span>
  c2 &lt;-<span class="st"> </span>c2            <span class="co"># concentración que me pide el protocolo (%)</span>
  v2 &lt;-<span class="st"> </span>v2            <span class="co"># volumen de la solución que deseo (ml)</span>
  v1 &lt;-<span class="st"> </span>(c2<span class="op">*</span>v2)<span class="op">/</span>c1    <span class="co"># aliquota que debo usar</span>
  
  <span class="kw">return</span>(<span class="kw">paste</span>(<span class="st">&quot;Coloque&quot;</span>, 
               <span class="kw">round</span>(v1,<span class="dv">1</span>), 
               <span class="st">&quot;ml de lavandina y enrase con agua hasta completar&quot;</span>, 
               v2, <span class="st">&quot;ml&quot;</span>))
}</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">vol_lavandina</span>(<span class="dv">55</span>, <span class="co"># g cloro / L (Lavandina)</span>
          <span class="dv">5</span>, <span class="co"># % ClONa deseada</span>
          <span class="dv">500</span>) <span class="co"># ml de la solución deseada</span></code></pre>
<pre><code>## [1] &quot;Coloque 216.4 ml de lavandina y enrase con agua hasta completar 500 ml&quot;</code></pre>
<blockquote>
<p>Al reportar los resultados de los test de comparaciones de medias obtenidas luego del análisis de varianza es interesante agregar en los párrafos de los resultados cuánto incremento o se redujo un tratamiento en referencia a un testigo en términos porcentuales. Genere una función que permita realizar estos cálculos. Tome como ayuda este <a href="https://www.calculatorsoup.com/calculators/algebra/percent-change-calculator.php">link</a> para cotejar sus resultados.</p>
</blockquote>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="calc.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tablas-resumen.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/juanchiem/R_Intro/edit/master/02-R_sintaxis.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
